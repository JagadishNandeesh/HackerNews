!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./build",n(n.s=7)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime/helpers/interopRequireDefault")},function(e,t){e.exports=require("@babel/runtime/helpers/interopRequireWildcard")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(14),r=n(23),i=[{path:"/:id?",exact:!0,component:a.HackerNewsLayout,fetchInitialData:function(e){void 0===e&&(e="");var t=parseInt(e.split("/").pop(),10);return t=t||1,(0,r.fetchNews)("https://hn.algolia.com/api/v1/search?tags=story&page="+t)}}];t.default=i},function(e,t){e.exports=require("react-helmet")},function(e,t,n){"use strict";var a=n(1);n(8);var r=a(n(9)),i=a(n(0)),s=a(n(10)),o=n(3),l=a(n(11)),u=n(12),c=n(6),d=a(n(5)),f=a(n(27)),p=(0,r.default)(),m=process.env.PORT||3e3;p.use(l.default.json()),p.use(r.default.static("build/public")),p.get("*",(function(e,t){var n=d.default.find((function(t){return(0,o.matchPath)(e.url,t)}))||{};(n.fetchInitialData?n.fetchInitialData(""):Promise.resolve()).then((function(n){var a={data:n},r=s.default.renderToString(i.default.createElement(o.StaticRouter,{location:e.url,context:a},i.default.createElement(u.App,null))),l=c.Helmet.renderStatic(),d="\n  <html>\n    <head>\n        "+l.title.toString()+"\n        "+l.meta.toString()+"\n        <script>window.__INITIAL_DATA__ = "+(0,f.default)(n)+'<\/script>\n        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">\n        <link rel="stylesheet" type="text/css" href="./style.css" />\n        </head>\n    <body>\n        <div id="root">\n            '+r+'\n        </div>\n        <script src="client_bundle.js"><\/script>\n        \n    </body>\n  </html>\n  ';t.send(d)}))})),p.listen(m,(function(){console.log("App running "+m)}))},function(e,t){e.exports=require("@babel/polyfill")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r=a(n(4)),i=a(n(13)),s=a(n(0)),o=a(n(5)),l=n(3);t.App=function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement(l.Switch,null,o.default.map((function(e){var t=e.path,n=e.exact,a=e.component,o=(0,i.default)(e,["path","exact","component"]);return s.default.createElement(l.Route,{key:t,path:t,exact:n,render:function(e){return s.default.createElement(a,(0,r.default)({},e,o))}})}))))}},function(e,t){e.exports=require("@babel/runtime/helpers/objectWithoutPropertiesLoose")},function(e,t,n){"use strict";var a=n(2),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.HackerNewsLayout=void 0;var i=r(n(4)),s=r(n(15)),o=r(n(16)),l=r(n(17)),u=a(n(0)),c=n(6),d=n(18),f=n(21),p=function(e){return!!localStorage.getItem(e)&&JSON.parse(window.localStorage.getItem(e))},m=function(e){function t(t){var n,a;return n=e.call(this,t)||this,(0,l.default)((0,s.default)(n),"toggle",(function(e){var t=n.state,a=t.news,r=(t.pageId,[].concat(a.hits.slice(0,e),a.hits.slice(e+1)));n.setState({news:Object.assign({},n.state.news,{hits:r})})})),(0,l.default)((0,s.default)(n),"upvote",(function(e){n.state.pageId;var t=n.state.news.hits.map((function(t,n){if(n===e){var a=parseInt(t.points,10)+1;return(0,i.default)({},t,{points:a})}return(0,i.default)({},t)}));n.setState({news:Object.assign({},n.state.news,{hits:t})})})),a=t.staticContext.data,n.state={news:a,loading:!a,points:[],pageId:1},n.fetchNews=n.fetchNews.bind((0,s.default)(n)),n}(0,o.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.state.pageId;this.state.news||(p(e),this.fetchNews(e))},n.componentDidUpdate=function(e,t){var n=this;e.match.params.id!==this.props.match.params.id&&this.setState({pageId:this.props.match.params.id},(function(){var e=n.state.pageId;p(e),n.fetchNews(e)}))},n.fetchNews=function(e){var t=this;this.setState((function(){return{loading:!0}})),this.props.fetchInitialData(e).then((function(e){return t.setState((function(){return{news:e,loading:!1}}))}))},n.render=function(){var e=this.state,t=e.news,n=(e.loading,e.pageId),a=[];t.hits.map((function(e){return a.push([e.objectID,e.points])}));return u.default.createElement("div",{className:"App wrapper"},u.default.createElement(c.Helmet,null,u.default.createElement("title",null,"Hacker News")),u.default.createElement(d.News,{news:t,id:n,toggle:this.toggle,upvote:this.upvote}),u.default.createElement(f.LineChart,{points:a}))},t}(u.default.Component);t.HackerNewsLayout=m},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime/helpers/inheritsLoose")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.News=void 0;var r=a(n(0)),i=n(19),s=n(20);t.News=function(e){var t=e.news,n=e.id,a=e.toggle,o=e.upvote;return r.default.createElement("div",{className:"gridcontainer"},r.default.createElement("div",{className:"row header"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},"Comments"),r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},"Vote count"),r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},"UpVote"),r.default.createElement("div",{className:"col-md-9 col-sm-9 col-xs-9"},"New Details")),t&&t.hits&&t.hits.map((function(e,t){return r.default.createElement(r.default.Fragment,{key:t},r.default.createElement("div",{className:"row row-data"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},e.num_comments),r.default.createElement("div",{"data-testid":"news-item-vote-count",className:"col-md-1 col-sm-1 col-xs-1"},e.points),r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"}," ",r.default.createElement("div",{"data-testid":"news-item-upvote-button",onClick:function(){return o(t)},className:"triangle"})),r.default.createElement("div",{className:"col-md-9 col-sm-9 col-xs-9 news-item-title"},r.default.createElement("span",{"data-testid":"news-item-title"},e.title),r.default.createElement("span",{className:"hostName"},e.url?(0,i.extractHostname)(e.url):""),"by ",e.author,r.default.createElement("span",{"data-testid":"news-item-hide-button",className:"hideButton",onClick:function(){return a(t)}},"[Hide]"))))})),r.default.createElement("div",{className:"row"},r.default.createElement(s.Pagination,{id:n})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostname=void 0;t.extractHostname=function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}},function(e,t,n){"use strict";var a=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;var r=a(n(0)),i=n(3);t.Pagination=function(e){var t=e.id;return r.default.createElement("div",{className:"paginator"},r.default.createElement("span",{className:"prev"},r.default.createElement(i.Link,{to:"/"+(parseInt(t,10)-1)},"Prev")),r.default.createElement("span",{className:"next"},r.default.createElement(i.Link,{to:"/"+(parseInt(t,10)+1)},"Next")))}},function(e,t,n){"use strict";var a=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LineChart=void 0;var r=a(n(0)),i=n(22);t.LineChart=function(e){var t=[{label:"Series 1",data:e.points}],n=r.default.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]);return r.default.createElement("div",{style:{width:"100%",height:"300px",marginTop:"1rem"}},r.default.createElement(i.Chart,{data:t,axes:n,options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Y text"}}],xAxes:[{scaleLabel:{display:!0,labelString:"X text"}}]}}}))}},function(e,t){e.exports=require("react-charts")},function(e,t,n){"use strict";var a=n(2),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNews=void 0;var i=r(n(24)),s=r(n(25)),o=(a(n(0)),r(n(26))),l=function(){var e=(0,s.default)(i.default.mark((function e(t,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.get(t,{params:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.fetchNews=l},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("serialize-javascript")}]);